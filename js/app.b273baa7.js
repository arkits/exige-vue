(function(t){function e(e){for(var a,n,s=e[0],l=e[1],c=e[2],p=0,d=[];p<s.length;p++)n=s[p],i[n]&&d.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=o[0]))}return t}var a={},i={app:0},r=[];function n(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=a,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/exige/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var a=o("1356"),i=o.n(a);i.a},"05d3":function(t,e,o){"use strict";var a=o("eacd"),i=o.n(a);i.a},"080d":function(t,e,o){"use strict";var a=o("9e24"),i=o.n(a);i.a},1:function(t,e){},1356:function(t,e,o){},2:function(t,e){},"21dd":function(t,e,o){"use strict";var a=o("ebeb"),i=o.n(a);i.a},3:function(t,e){},"3a5f":function(t,e,o){},"3f9d":function(t,e,o){"use strict";var a=o("3a5f"),i=o.n(a);i.a},4:function(t,e){},"56d7":function(t,e,o){"use strict";o.r(e);var a=o("2b0e"),i=o("b408"),r=o.n(i),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"exige"}},[o("v-app-bar",{attrs:{app:"",dark:""}},[o("v-toolbar-title",{staticClass:"headline"},[o("span",{staticClass:"org-title"},[t._v(t._s(t.org_title))]),o("span",[o("a",{staticClass:"app-title white--text",attrs:{href:"/exige"}},[t._v("Exige")])])]),o("div",{staticClass:"flex-grow-1"}),o("router-link",{staticClass:"white--text nav-butt",attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")]),o("router-link",{staticClass:"white--text nav-butt",attrs:{to:{name:"timeline"}}},[t._v("Timeline")])],1),o("v-content",[o("router-view")],1)],1)},s=[],l={name:"App",data:function(){return{org_title:"~/"}},methods:{}},c=l,u=(o("034f"),o("2877")),p=o("6544"),d=o.n(p),g=o("7496"),v=o("40dc"),f=o("a75b"),m=o("2a7f"),h=Object(u["a"])(c,n,s,!1,null,null,null),_=h.exports;d()(h,{VApp:g["a"],VAppBar:v["a"],VContent:f["a"],VToolbarTitle:m["a"]});var x,y=o("2f62"),b=o("c437"),O=o.n(b),w=o("2ef0"),S=o.n(w),C="✅ Socket connected!",P="❌ Socket disconnected!",E="❌ Socket Error!!!",V="Websocket message received",k="Websocket reconnected",L="Websocket is having issues reconnecting..";function T(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}a["a"].use(y["a"]);var M=new y["a"].Store({state:{socket:{isConnected:!1,message:"",reconnectError:!1},operations:[],positions:{},points:[],positionsLayerColorMap:[],dswitch:!0,gridDraw:!1},mutations:(x={},T(x,C,function(t,e){console.log("WebSocket Connected!"),t.socket.isConnected=!0}),T(x,P,function(t,e){console.log("WebSocket Closed!"),t.socket.isConnected=!1}),T(x,E,function(t,e){console.log("WebSocket Closed with an error!"),console.error(t,e)}),T(x,V,function(t,e){try{var o=JSON.parse(e.data);console.log(o)}catch(c){console.error("An error occured when trying to parse WebSocket message!")}if("ws://localhost:1234/testbed/sndem/uamposition"==e.currentTarget.url){console.log("Received Position from WebSocket");var i=F(o),r=S.a.cloneDeep(t.positions),n=[];t.positions.hasOwnProperty(i.gufi)&&(n=t.positions[i.gufi]),n.push(i),r[i.gufi]=n,t.positions=Object.assign({},r)}else if("ws://localhost:1234/testbed/sndem/uamoperation"==e.currentTarget.url){console.log("Received Operation from WebSocket");var s=$(o),l=t.operations.findIndex(function(t){return t.gufi===s.gufi});-1!=l?(console.log("Update Operation"),a["a"].set(t.operations,l,s)):(console.log("Add Operation"),t.operations.push(s))}}),T(x,k,function(t,e){console.log("WebSocket reconnecting..."),console.info(t,e)}),T(x,L,function(t){console.log("WebSocket reconnecting error!"),t.socket.reconnectError=!0}),T(x,"addOperation",function(t,e){var o=D(e),i=t.operations.findIndex(function(t){return t.gufi===o.gufi});-1!=i?(console.log("Update Operation"),a["a"].set(t.operations,i,o)):(console.log("Add Operation"),t.operations.push(o))}),T(x,"clearOperations",function(t){t.operations=[]}),T(x,"addPosition",function(t,e){console.log("Adding to Position to Store.");var o=S.a.cloneDeep(t.positions),a=[];t.positions.hasOwnProperty(e.gufi)&&(a=t.positions[e.gufi]),a.push(e),o[e.gufi]=a,t.positions=Object.assign({},o)}),T(x,"setDSwitch",function(t,e){console.log("Setting DSwitch to - "+e),t.dswitch=e}),T(x,"setGridDraw",function(t,e){console.log("Setting gridDraw to - "+e),t.gridDraw=e}),T(x,"addToPositionsLayerColorMap",function(t,e){var o=t.positionsLayerColorMap.findIndex(function(t){return t.gufi===e.gufi});-1!=o?(console.log("Update PLC"),a["a"].set(t.positionsLayerColorMap,o,e)):(console.log("Add PLC"),t.positionsLayerColorMap.push(e))}),T(x,"addPoint",function(t,e){console.log("Adding to Point to Store.");var o=A(e);t.points.push(o)}),x),getters:{getOperations:function(t){return t.operations},getPositions:function(t){return t.positions},getPositionsForOperation:function(t){return function(e){var o=[];return t.positions.has(e)&&(o=t.positions.get(e)),o}},getPositionLayerColorForGufi:function(t){return function(e){var o;return t.positionsLayerColorMap.forEach(function(t){t.gufi==e&&(o=t.color)}),o}},getPositionLayerColorMap:function(t){return t.positionsLayerColorMap},getDSwitch:function(t){return t.dswitch},getGridDraw:function(t){return t.gridDraw},getPoints:function(t){return t.points}}});function D(t){var e={};if(t.gufi?e.gufi=t.gufi:(console.log("OpVal: gufi not found. Generating a random uuid."),e.gufi=O()()),t.uss_name?e.uss_name=t.uss_name:(console.log("OpVal: uss_name not found. Using default."),e.uss_name="exige.xyz"),t.state?e.state=t.state:(console.log("OpVal: state not found. Using CLOSED."),e.state="CLOSED"),t.flight_number?e.flight_number=t.flight_number:(console.log("OpVal: flight_number not found. Using EXIGE123."),e.flight_number="EXIGE123"),t.exige_op_color)e.exige_op_color=t.exige_op_color;else{var o=I();e.exige_op_color=o,console.log("OpVal: exige_op_color not found. Using "+o)}return t.operation_volumes?e.operation_volumes=t.operation_volumes:(console.log("OpVal: operation_volumes not found. Using default."),e.operation_volumes=[{ordinal:1,min_altitude:{altitude_value:500,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1500,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-107.9296875,52.05249047600099],[-110.830078125,53.904338156274704],[-112.5,52.802761415419674],[-112.763671875,50.90303283111257],[-107.40234375,48.16608541901253],[-102.65625,51.12421275782688],[-102.39257812499999,53.12040528310657],[-105.205078125,53.69670647530323],[-107.9296875,52.05249047600099]]]}}]),e}function A(t){var e=t;return e.exige_point_color=I(),e}function I(){var t=["#F44336","#9C27B0","#2196F3","#4CAF50","#FF5722"],e=t[Math.floor(Math.random()*t.length)];return e}function F(t){var e={gufi:t.gufi,altitude_gps_wgs84_ft:t.altitude,uss_name:t.ussName,location:{type:"Point",coordinates:[t.lngPos,t.latPos]}};return e}function $(t){for(var e={gufi:t.gufi,uss_name:t.ussName,state:t.opState,operation_volumes:[]},o=t.operationVolumes,a=0;a<o.length;a++){var i=o[a],r={min_altitude:{},max_altitude:{},operation_geography:{}};r.min_altitude.altitude_value=i.minAltitude,r.max_altitude.altitude_value=i.maxAltitude,r.operation_geography.type="Polygon";for(var n=[],s=0;s<i.operationGeography.length;s++){var l=i.operationGeography[s];n.push(l)}r.operation_geography.coordinates=[n],e.operation_volumes.push(r)}var c=D(e);return"ACTIVATED"==c.state?c.exige_op_color="#4CAF50":"ROGUE"==c.state?c.exige_op_color="#F44336":"ACCEPTED"==c.state?c.exige_op_color="#2196F3":c.exige_op_color="#9C27B0",c}var j=o("8c4f"),R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",md3:""}},[o("Operations",{on:{"exige-viewOperationOnMap":function(e){return t.viewOperationOnMap(e)},"exige-hideOperationOnMap":function(e){return t.hideOperationOnMap(e)},"exige-hidePositionsOnMap":function(e){return t.hidePositionsOnMap(e)}}})],1),o("v-flex",{attrs:{xs12:"",md9:""}},[o("Map",{ref:"Map"})],1)],1),o("v-footer",{attrs:{fixed:"",height:"auto"}},[o("v-layout",[o("v-flex",{attrs:{row:""}},[o("v-layout",[o("OptionsList",{on:{"exige-clearStore":function(e){return t.clearStore()},"exige-viewOperationOnMap":function(e){return t.viewOperationOnMap(e)}}})],1),o("v-layout",{attrs:{"justify-end":""}},[o("AboutPopup")],1)],1)],1)],1)],1)},G=[],W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{id:"operations-cards-list","grid-list-md":""}},[t._l(t.getOperationsFromStore,function(e){return o("div",{key:e.gufi,attrs:{if:"getOperationsFromStore.length > 0"}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("OperationCard",{attrs:{operation:e},on:{"exige-viewOperationOnMap":function(o){return t.$emit("exige-viewOperationOnMap",e)},"exige-hideOperationOnMap":function(o){return t.$emit("exige-hideOperationOnMap",e)},"exige-hidePositionsOnMap":function(o){return t.$emit("exige-hidePositionsOnMap",e)}}})],1)],1)],1)}),0===t.getOperationsFromStore.length?o("div",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("center",[o("DataAdder")],1)],1)],1)],1):t._e()],2)},N=[],B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"white--text",attrs:{color:t.cardBackgroud}},[o("v-card-text",{attrs:{dark:""}},[o("div",{staticClass:"white--text"},[o("span",[t._v(t._s(t.operation.gufi))]),o("br"),o("span",[t._v(t._s(t.operation.uss_name))]),o("br"),o("span",[t._v(t._s(t.operation.flight_number))]),o("br"),o("span",[t._v(t._s(t.operation.state))])])]),o("v-card-actions",[o("OperationDetailsDialog",{attrs:{operation:t.operation},on:{"exige-hidePositionsOnMap":function(e){return t.$emit("exige-hidePositionsOnMap",t.operation)}}}),o("v-btn",{attrs:{text:""},on:{click:t.hideOperation}},[t._v("Hide")]),o("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("exige-viewOperationOnMap",t.operation)}}},[t._v("View on Map")])],1)],1)},U=[],H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-xs-center"},[o("v-dialog",{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({attrs:{text:""}},a),[t._v("Details")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-title",{staticClass:"blue darken-2"},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline mb-1"},[t._v("Operation Details")])],1)],1)],1),o("v-tabs",{attrs:{centered:"",color:"white","background-color":"blue darken-2",dark:"","slider-color":"white"}},[o("v-tab",{key:"1",attrs:{ripple:""}},[t._v("Operation Details")]),o("v-tab",{key:"2",attrs:{ripple:""}},[t._v("Position Details")]),o("v-tab",{key:"3",attrs:{ripple:""}},[t._v("Mapping Options")]),o("v-tab-item",{key:"1"},[o("v-card",{attrs:{flat:""}},[o("v-card-text",[o("OperationDataView",{attrs:{operation:t.operation}})],1)],1)],1),o("v-tab-item",{key:"2"},[o("v-card",{attrs:{flat:""}},[o("v-card-text",[o("PositionsTimeline",{attrs:{operation:t.operation}})],1)],1)],1),o("v-tab-item",{key:"3"},[o("v-card",{attrs:{flat:""}},[o("v-card-text",[o("MappingOptions",{attrs:{operation:t.operation},on:{"exige-hidePositionsOnMap":function(e){return t.$emit("exige-hidePositionsOnMap",t.operation)}}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"pink darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},z=[],J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"operationDataView"}},[t.viewRawOperation?o("div",[o("v-layout",[o("v-flex",[o("v-textarea",{attrs:{outlined:"",name:"raw-json",label:"Raw Operation JSON",value:t.operationAsString}})],1)],1)],1):o("div",[o("v-simple-table",{attrs:{dark:""}},[o("tbody",[o("tr",[o("td",[t._v("GUFI")]),o("td",[t._v(t._s(t.operation.gufi))])]),o("tr",[o("td",[t._v("Flight Number")]),o("td",[t._v(t._s(t.operation.flight_number))])]),o("tr",[o("td",[t._v("State")]),o("td",[t._v(t._s(t.operation.state))])]),o("tr",[o("td",[t._v("USS Name")]),o("td",[t._v(t._s(t.operation.uss_name))])]),o("tr",[o("td",[t._v("Number of Volumes")]),o("td",[t._v(t._s(t.operationVolumeLength))])])])])],1),o("v-divider"),o("br"),o("center",[o("v-btn",{attrs:{color:"pink darken-1"},on:{click:function(e){t.viewRawOperation=!t.viewRawOperation}}},[t._v("View Raw")])],1)],1)},K=[],X={name:"OperationDataView",props:["operation"],data:function(){return{dialog:!1,viewRawOperation:!1}},computed:{operationVolumeLength:function(){return this.operation.operation_volumes.length},operationAsString:function(){var t=JSON.stringify(this.operation,null,4);return t}}},Y=X,q=o("8336"),Q=o("ce7e"),Z=o("0e8f"),tt=o("a722"),et=o("1f4f"),ot=o("a844"),at=Object(u["a"])(Y,J,K,!1,null,null,null),it=at.exports;d()(at,{VBtn:q["a"],VDivider:Q["a"],VFlex:Z["a"],VLayout:tt["a"],VSimpleTable:et["a"],VTextarea:ot["a"]});var rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"positionsDataView"}},[t.viewRawPositions?o("div",[o("v-layout",[o("v-flex",[o("v-textarea",{attrs:{outlined:"",name:"raw-json",label:"Raw Operation JSON",value:t.positionsAsString}})],1)],1)],1):o("div",[o("v-timeline",{attrs:{"align-top":"",dense:""}},t._l(t.getPositionsForOperation,function(e,a){return o("div",{key:a},[o("v-timeline-item",{attrs:{color:"pink",small:""}},[o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs2:""}},[o("v-icon",{attrs:{dark:""}},[t._v("location_on")])],1),o("v-flex",[o("strong",[t._v(t._s(e.location.coordinates[0])+", "+t._s(e.location.coordinates[1]))]),o("div",{staticClass:"caption"},[t._v(t._s(e.gufi))]),o("div",{staticClass:"caption"},[t._v(t._s(e.uss_name))])])],1)],1)],1)}),0)],1),o("v-divider"),o("br"),o("center",[o("v-btn",{attrs:{color:"pink darken-1"},on:{click:function(e){t.viewRawPositions=!t.viewRawPositions}}},[t._v("View Raw")])],1)],1)},nt=[],st={name:"PositionsTimeline",props:["operation"],data:function(){return{dialog:!1,viewRawPositions:!1,positions:[]}},computed:{getPositionsForOperation:function(){return this.positions=M.getters.getPositionsForOperation(this.operation.gufi),this.positions},positionsAsString:function(){var t=JSON.stringify(this.positions,null,4);return t}}},lt=st,ct=o("132d"),ut=o("8414"),pt=o("1e06"),dt=Object(u["a"])(lt,rt,nt,!1,null,null,null),gt=dt.exports;d()(dt,{VBtn:q["a"],VDivider:Q["a"],VFlex:Z["a"],VIcon:ct["a"],VLayout:tt["a"],VTextarea:ot["a"],VTimeline:ut["a"],VTimelineItem:pt["a"]});var vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"white--text",attrs:{id:"mappingOptions"}},[o("v-container",{staticClass:"white--text"},[o("h2",{staticClass:"headline"},[t._v("Operation Layer Options")]),o("br"),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Operation Volumes Color")]),o("p",[t._v("Choose the color of the Operation Volumes layer.")])]),o("v-flex",{attrs:{xs3:""}},[o("v-select",{attrs:{items:t.volumeColors,label:"Volume Color",solo:""},on:{change:t.updateOperationLayerColor}})],1)],1),o("v-divider"),o("br"),o("h2",{staticClass:"headline"},[t._v("Position Layer Options")]),o("br"),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Hide Position Markers")]),o("p",[t._v("Hides the Position Markers layer.")])]),o("v-flex",{attrs:{xs3:""}},[o("v-btn",{attrs:{color:"primary"},on:{click:t.hidePositions}},[t._v("Hide Positions")])],1)],1),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Position Marker Color")]),o("p",[t._v("Choose the color of the positions markers.")])]),o("v-flex",{attrs:{xs3:""}},[o("v-select",{attrs:{items:t.positionColors,label:"Marker Color",solo:""},on:{change:t.updatePositionLayerColor}})],1)],1)],1),o("v-flex",{attrs:{xs12:"",sm6:"","d-flex":""}})],1)},ft=[],mt={name:"MappingOptions",props:["operation"],data:function(){return{dialog:!1,positionColors:["red","lime","pink","yellow","orange","teal"],volumeColors:["#F44336","#9C27B0","#2196F3","#4CAF50","#FF5722"]}},methods:{updatePositionLayerColor:function(t){var e={gufi:this.operation.gufi,color:t};this.$store.commit("addToPositionsLayerColorMap",e)},updateOperationLayerColor:function(t){var e=this.operation;e.exige_op_color=t,this.$store.commit("addOperation",e)},hidePositions:function(){this.$emit("exige-hidePositionsOnMap",this.operation)}}},ht=mt,_t=o("a523"),xt=o("b974"),yt=Object(u["a"])(ht,vt,ft,!1,null,null,null),bt=yt.exports;d()(yt,{VBtn:q["a"],VContainer:_t["a"],VDivider:Q["a"],VFlex:Z["a"],VLayout:tt["a"],VSelect:xt["a"]});var Ot={name:"OperationDetailsDialog",props:["operation"],components:{OperationDataView:it,PositionsTimeline:gt,MappingOptions:bt},data:function(){return{dialog:!1}}},wt=Ot,St=o("b0af"),Ct=o("99d9"),Pt=o("169a"),Et=o("da13"),Vt=o("5d23"),kt=o("2fa4"),Lt=o("71a3"),Tt=o("c671"),Mt=o("fe57"),Dt=Object(u["a"])(wt,H,z,!1,null,null,null),At=Dt.exports;d()(Dt,{VBtn:q["a"],VCard:St["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VDialog:Pt["a"],VListItem:Et["a"],VListItemContent:Vt["a"],VListItemTitle:Vt["c"],VSpacer:kt["a"],VTab:Lt["a"],VTabItem:Tt["a"],VTabs:Mt["a"]});var It={name:"OperationCard",props:["operation"],components:{OperationDetailsDialog:At},computed:{cardBackgroud:function(){var t=this.operation.exige_op_color;return t}},methods:{hideOperation:function(){this.$emit("exige-hideOperationOnMap",this.operation)}}},Ft=It,$t=Object(u["a"])(Ft,B,U,!1,null,"59589ebe",null),jt=$t.exports;d()($t,{VBtn:q["a"],VCard:St["a"],VCardActions:Ct["a"],VCardText:Ct["b"]});var Rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-dialog",{attrs:{scrollable:"",width:"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({attrs:{color:"green",text:""}},a),[t._v("\n                Add Data\n                "),o("v-icon",{attrs:{right:"",dark:""}},[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-title",{staticClass:"green darken-2"},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline mb-1"},[t._v("Add Data to Exige")]),o("v-list-item-subtitle",[t._v("Add a new Operation or Position to Exige's Store. This is a front-end action and does reflect a USS's data!")])],1)],1)],1),o("v-tabs",{attrs:{centered:"",color:"white","background-color":"green darken-2",dark:"","slider-color":"white"}},[o("v-tab",{key:"1",attrs:{ripple:""}},[t._v("Operations")]),o("v-tab",{key:"2",attrs:{ripple:""}},[t._v("Positions")]),o("v-tab",{key:"3",attrs:{ripple:""}},[t._v("Point")]),o("v-tab",{key:"4",attrs:{ripple:""}},[t._v("Import")]),o("v-tab-item",{key:"1"},[o("v-card-text",[o("OperationAdder",{attrs:{dialog:t.dialog}})],1)],1),o("v-tab-item",{key:"2"},[o("v-card-text",[o("PositionAdder",{attrs:{dialog:t.dialog}})],1)],1),o("v-tab-item",{key:"3"},[o("v-card-text",[o("MiscAdder",{attrs:{dialog:t.dialog}})],1)],1),o("v-tab-item",{key:"4"},[o("v-card-text",[o("ExportImport",{attrs:{dialog:t.dialog}})],1)],1)],1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"green darken-2"},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},Gt=[],Wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("center",[o("br"),o("v-flex",{attrs:{xs10:""}},[o("v-form",{ref:"operationAdderForm"},[o("v-textarea",{attrs:{outlined:"",name:"input-json-op",label:"JSON Operation",hint:"Enter an Operation or list of Operations. v2 and v4 data model accepted. Refer to UTM API."},model:{value:t.userInputOperation,callback:function(e){t.userInputOperation=e},expression:"userInputOperation"}})],1)],1)],1),t.inputError?o("div",[o("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.inputError))])],1):t._e(),t.inputSuccess?o("div",[o("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.inputSuccess))])],1):t._e(),o("center",[o("v-btn",{attrs:{color:"green"},on:{click:t.addOperationToStore}},[t._v("Add Operation")])],1)],1)},Nt=[],Bt={name:"OperationAdder",props:["dialog"],data:function(){return{userInputOperation:"",inputError:"",inputSuccess:""}},methods:{addOperationToStore:function(){var t=this.$data.userInputOperation;try{var e=JSON.parse(t);if(Array.isArray(e)){for(var o in e)this.$store.commit("addOperation",e[o]);this.inputSuccess="Added "+e.length+" Operations!"}else this.$store.commit("addOperation",e),this.inputSuccess="Added Operation!"}catch(a){this.inputError="Error occured when adding Operation to Store... "+a,console.log("Error occured when adding Operation to Store!"),console.error(a)}}},watch:{dialog:function(){this.inputError="",this.inputSuccess="",this.$refs.operationAdderForm.reset()}}},Ut=Bt,Ht=o("0798"),zt=o("4bd4"),Jt=Object(u["a"])(Ut,Wt,Nt,!1,null,null,null),Kt=Jt.exports;d()(Jt,{VAlert:Ht["a"],VBtn:q["a"],VFlex:Z["a"],VForm:zt["a"],VTextarea:ot["a"]});var Xt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("center",[o("br"),o("v-flex",{attrs:{xs10:""}},[o("v-form",{ref:"positionAdderForm"},[o("v-textarea",{attrs:{outlined:"",name:"input-json-pos",label:"JSON Position",hint:"Enter a Position or list of Positions. Refer to UTM API."},model:{value:t.userInputPosition,callback:function(e){t.userInputPosition=e},expression:"userInputPosition"}})],1)],1)],1),t.inputError?o("div",[o("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.inputError))])],1):t._e(),t.inputSuccess?o("div",[o("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.inputSuccess))])],1):t._e(),o("center",[o("v-btn",{attrs:{color:"green"},on:{click:t.addPositionToStore}},[t._v("Add Position")])],1)],1)},Yt=[],qt={name:"PositionAdder",props:["dialog"],data:function(){return{userInputPosition:"",inputError:"",inputSuccess:""}},methods:{addPositionToStore:function(){var t=this.$data.userInputPosition;try{var e=JSON.parse(t);if(Array.isArray(e))for(var o in e)this.$store.commit("addPosition",e[o]),this.inputSuccess="Added "+e.length+" Positions!";else this.$store.commit("addPosition",e),this.inputSuccess="Added Position!"}catch(a){this.inputError="Error occured when adding Position to Store... "+a,console.log("Error occured when adding Position to Store!"),console.error(a)}}},watch:{dialog:function(){this.inputError="",this.inputSuccess="",this.$refs.positionAdderForm.reset()}}},Qt=qt,Zt=Object(u["a"])(Qt,Xt,Yt,!1,null,null,null),te=Zt.exports;d()(Zt,{VAlert:Ht["a"],VBtn:q["a"],VFlex:Z["a"],VForm:zt["a"],VTextarea:ot["a"]});var ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{attrs:{"grid-list-md":""}},[o("h2",{staticClass:"headline white--text"},[t._v("Add a Point")]),o("br"),o("v-form",{ref:"pointAdderForm"},[o("v-layout",[o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{outlined:"",name:"input-lat",label:"Lat",hint:"Enter a Lat"},model:{value:t.userInputLat,callback:function(e){t.userInputLat=e},expression:"userInputLat"}})],1),o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{outlined:"",name:"input-long",label:"Long",hint:"Enter a Long"},model:{value:t.userInputLong,callback:function(e){t.userInputLong=e},expression:"userInputLong"}})],1),o("v-flex",{attrs:{xs4:""}},[o("v-text-field",{attrs:{outlined:"",name:"input-label",label:"Label",hint:"Enter a Label"},model:{value:t.userInputLabel,callback:function(e){t.userInputLabel=e},expression:"userInputLabel"}})],1)],1)],1)],1),t.inputError?o("div",[o("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.inputError))])],1):t._e(),t.inputSuccess?o("div",[o("v-alert",{attrs:{type:"success"}},[t._v(t._s(t.inputSuccess))])],1):t._e(),o("center",[o("v-btn",{attrs:{color:"green"},on:{click:t.addPointToStore}},[t._v("Add A Point")])],1),o("br")],1)},oe=[],ae={name:"MiscAdder",props:["dialog"],data:function(){return{userInputLat:"",userInputLong:"",userInputLabel:"",inputError:"",inputSuccess:""}},methods:{addPointToStore:function(){var t=this.$data.userInputLat,e=this.$data.userInputLong,o=this.$data.userInputLabel,a={};a.lat=t||"41",a.long=e||"-100",a.label=o||a.lat+","+a.long;try{this.$store.commit("addPoint",a),this.inputSuccess="Added Point!"}catch(i){this.inputError="Error occured when adding Point to Store... "+i,console.log("Error occured when adding Point to Store!"),console.error(i)}}},watch:{dialog:function(){this.inputSuccess="",this.inputError="",this.$refs.pointAdderForm.reset()}}},ie=ae,re=o("8654"),ne=Object(u["a"])(ie,ee,oe,!1,null,null,null),se=ne.exports;d()(ne,{VAlert:Ht["a"],VBtn:q["a"],VContainer:_t["a"],VFlex:Z["a"],VForm:zt["a"],VLayout:tt["a"],VTextField:re["a"]});var le=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("center",[o("br"),o("v-flex",{attrs:{xs10:""}},[o("v-form",{ref:"exportAdderForm"},[o("v-textarea",{attrs:{outlined:"",name:"input-json-export",label:"Exige Export",hint:"Paste an exige_export.json here."},model:{value:t.userInputExport,callback:function(e){t.userInputExport=e},expression:"userInputExport"}})],1)],1)],1),t.inputError?o("div",[o("v-alert",{attrs:{type:"error"}},[t._v(t._s(t.inputError))])],1):t._e(),t.inputSuccess?o("div",[o("v-alert",{attrs:{dense:"",type:"success"}},[o("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v("\n                "+t._s(t.inputSuccess)+"\n            ")])])],1):t._e(),o("center",[o("v-btn",{attrs:{color:"green"},on:{click:t.doImport}},[t._v("Import")])],1)],1)},ce=[],ue={name:"ExigeExport",props:["dialog"],data:function(){return{userInputExport:"",inputError:"",inputSuccess:""}},methods:{doImport:function(){var t=this.$data.userInputExport;try{var e=JSON.parse(t);this.inputSuccess="\n Import Result: \n";var o=e.exige_operations,a=e.exige_positions,i=e.exige_positionsLayerColorMap,r=e.exige_points,n=e.exige_dswitch;if(null!=o){for(var s in o)this.$store.commit("addOperation",o[s]);this.inputSuccess=this.inputSuccess+" > Added Operations - "+o.length+"\n "}if(null!=a){for(s in a)this.$store.commit("addPosition",a[s]);this.inputSuccess=this.inputSuccess+"> Added Positions - "+a.length+"\n "}if(null!=i){for(s in i)this.$store.commit("addToPositionsLayerColorMap",i[s]);this.inputSuccess=this.inputSuccess+"> Added PLCM - "+i.length+"\n "}if(null!=r){for(s in r)this.$store.commit("addPoint",r[s]);this.inputSuccess=this.inputSuccess+"> Added Points  - "+r.length+"\n "}null!=n&&(this.$store.commit("setDSwitch",n),this.inputSuccess=this.inputSuccess+"> Set 3D Switch to - "+n+"\n ")}catch(l){this.inputError="Error occured when adding Operation to Store... "+l,console.log("Error occured when adding Operation to Store!"),console.error(l)}}},watch:{dialog:function(){this.inputError="",this.inputSuccess="",this.$refs.exportAdderForm.reset()}}},pe=ue,de=Object(u["a"])(pe,le,ce,!1,null,null,null),ge=de.exports;d()(de,{VAlert:Ht["a"],VBtn:q["a"],VFlex:Z["a"],VForm:zt["a"],VTextarea:ot["a"]});var ve={name:"DataAdder",components:{OperationAdder:Kt,PositionAdder:te,MiscAdder:se,ExportImport:ge},data:function(){return{dialog:!1}}},fe=ve,me=Object(u["a"])(fe,Rt,Gt,!1,null,null,null),he=me.exports;d()(me,{VBtn:q["a"],VCard:St["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VDialog:Pt["a"],VDivider:Q["a"],VIcon:ct["a"],VListItem:Et["a"],VListItemContent:Vt["a"],VListItemSubtitle:Vt["b"],VListItemTitle:Vt["c"],VSpacer:kt["a"],VTab:Lt["a"],VTabItem:Tt["a"],VTabs:Mt["a"]});var _e={name:"Operations",props:["operations"],components:{OperationCard:jt,DataAdder:he},computed:{getOperationsFromStore:function(){return M.getters.getOperations}}},xe=_e,ye=(o("21dd"),Object(u["a"])(xe,W,N,!1,null,null,null)),be=ye.exports;d()(ye,{VContainer:_t["a"],VFlex:Z["a"],VLayout:tt["a"]});var Oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mapbox",{attrs:{accessToken:t.mapboxAccessToken,"map-options":t.mapOptions},on:{"map-load":t.mapLoaded,"map-init":t.mapInitialized}})},we=[],Se=o("7be2"),Ce=o.n(Se),Pe=o("bc3a"),Ee=o.n(Pe),Ve=o("2954"),ke=o.n(Ve),Le=(o("1c46"),{name:"Map",props:["operations","positions"],components:{mapbox:Ce.a},methods:{mapInitialized:function(t){this.map=t},mapLoaded:function(){console.log("Map Loaded!"),this.createPointsLayer()},createOperationLayer:function(t){var e=t.exige_op_color,o=M.state.dswitch,a={type:"FeatureCollection",features:[]},i=t.operation_volumes;i.forEach(function(t){var e={};t.hasOwnProperty("operation_geography")?e={type:"Feature",geometry:t.operation_geography,properties:{height:t.max_altitude.altitude_value,base_height:t.min_altitude.altitude_value}}:t.hasOwnProperty("flight_geography")&&(e={type:"Feature",geometry:t.flight_geography,properties:{height:t.max_altitude_wgs84_ft,base_height:t.min_altitude_wgs84_ft}}),a.features.push(e)});var r,n=t.gufi+"_operation";r=o?{id:n,type:"fill-extrusion",source:{type:"geojson",data:a},layout:{},paint:{"fill-extrusion-color":e,"fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","base_height"],"fill-extrusion-opacity":.5}}:{id:n,type:"fill",source:{type:"geojson",data:a},layout:{},paint:{"fill-color":e,"fill-opacity":.5}},this.map.getSource(n)&&(console.log("Updating existing layer - "+n),this.map.removeLayer(n),this.map.removeSource(n)),console.log("Adding layer - "+n),this.map.addLayer(r)},createPositionLayer:function(t,e){for(var o=t[0].gufi+"_positions",a=t[0].gufi+"_operation",i=M.state.dswitch,r=this.map.getStyle().layers,n=!1,s=0;s<r.length;s++)if(a==r[s].id){n=!0;break}var l,c={type:"FeatureCollection",features:[]};for(s in t){var u,p,d=t[s].location.coordinates;null!=t[s].altitude_gps_wgs84_ft?(u=t[s].altitude_gps_wgs84_ft+10,p=t[s].altitude_gps_wgs84_ft-10):null!=t[s].altitude_gps.altitude_value?(u=t[s].altitude_gps.altitude_value+10,p=t[s].altitude_gps.altitude_value-10):(console.warn("Can't parse Position for "+o),u=650,p=640);var g={type:"Feature",geometry:{type:"Polygon",coordinates:[[[d[0],d[1]],[d[0]-2e-4,d[1]],[d[0]-2e-4,d[1]+2e-4],[d[0],d[1]+2e-4],[d[0],d[1]]]]},properties:{height:u,base_height:p}};c.features.push(g)}l=i?{id:o,type:"fill-extrusion",source:{type:"geojson",data:c},paint:{"fill-extrusion-color":e,"fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","base_height"]}}:{id:o,type:"symbol",source:{type:"geojson",data:c},layout:{"icon-image":"star-15"}},this.map.getSource(o)?(console.log("Updating existing layer - "+o),this.map.getSource(o).setData(c)):(console.log("Adding new layer - "+o),n?(console.log("Placing below opLayer - "+o),this.map.addLayer(l,a)):this.map.addLayer(l))},createPointsLayer:function(){var t="exigePointsLayer",e={type:"FeatureCollection",features:[]},o={id:t,type:"symbol",source:{type:"geojson",data:e},layout:{"icon-image":"star-15","text-field":"{title}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top"},paint:{"text-color":["get","color"]}};this.map.addLayer(o)},createGridLayer:function(){var t="exigeGridLayer",e=this.map;Ee.a.get("https://raw.githubusercontent.com/arkits/exige/master/grid/gridTiles.json").then(function(o){console.log("Got Grid Adaptation!");var a=o.data,i={id:t,type:"fill",source:{type:"geojson",data:a},paint:{"fill-color":"rgba(255,255,255,0.0)","fill-outline-color":"rgba(51, 181, 229,1.0)","fill-opacity":1}};console.log("Creating Grid Layer!"),e.addLayer(i)}).catch(function(t){console.log(t)})},addToPointLayer:function(t){var e="exigePointsLayer",o={type:"FeatureCollection",features:[]};for(var a in t){var i=t[a];""===i.label&&(i.label=i.lat+","+i.long);var r={type:"Feature",geometry:{type:"Point",coordinates:[i.long,i.lat]},properties:{title:i.label,color:i.exige_point_color}};o.features.push(r)}this.map.getSource(e).setData(o)},viewOperationOnMap:function(t){var e={type:"FeatureCollection",features:[]};t.operation_volumes.forEach(function(t){var o={};t.hasOwnProperty("operation_geography")?o={type:"Feature",properties:{},geometry:t.operation_geography}:t.hasOwnProperty("flight_geography")&&(o={type:"Feature",properties:{},geometry:t.flight_geography}),e.features.push(o)});var o=ke.a.bboxify(e);this.map.fitBounds(o.bbox)},toggleOperationOnMap:function(t){console.log("toggleOperationOnMap - "+t.gufi);var e=t.gufi+"_operation",o=this.map.getLayoutProperty(e,"visibility");"visible"===o||"undefined"===typeof o?(console.log("toggleOperationOnMap - Hide "+e),this.map.setLayoutProperty(e,"visibility","none")):(console.log("toggleOperationOnMap - Show "+e),this.map.setLayoutProperty(e,"visibility","visible"))},togglePositionsOnMap:function(t){console.log("togglePositionsOnMap - "+t.gufi);var e=t.gufi+"_positions",o=this.map.getLayoutProperty(e,"visibility");"visible"===o||"undefined"===typeof o?(console.log("togglePositionsOnMap - Hide "+e),this.map.setLayoutProperty(e,"visibility","none")):(console.log("togglePositionsOnMap - Show "+e),this.map.setLayoutProperty(e,"visibility","visible"))},clearMapAndStore:function(){console.log("clearMapStore from Map");var t=M.getters.getOperations;for(var e in console.log("Removing operation layers..."),t){var o=t[e],a=o.gufi+"_operation",i=o.gufi+"_positions";try{console.log("Removing layer - "+a),this.map.removeLayer(a),this.map.removeSource(a),console.log("Removing layer - "+i),this.map.removeLayer(i),this.map.removeSource(i)}catch(r){console.log("Caught error when clearing store!"),console.error(r)}}this.$store.commit("clearOperations")},clearPositionsLayer:function(t){console.log("clearPositionsLayer from Map");var e=t+"_positions";try{this.map.removeLayer(e),this.map.removeSource(e)}catch(o){console.log("Caught error when clearing store!"),console.error(o)}},removeGridLayer:function(){console.log("Removing Grid Layer from Map");var t="exigeGridLayer";this.map.removeLayer(t),this.map.removeSource(t)}},data:function(){return{map:{},mapboxAccessToken:"pk.eyJ1IjoiYXJraXRzIiwiYSI6ImNqc3Bud29jMjAzcWc0OXJ6Y3YzOHltaTcifQ.EMMG5GSbT0T-lD8RGJgnAA",mapOptions:{style:"mapbox://styles/arkits/cjvhbvo4z0edh1cmtjmpg9ii8?optimize=true",center:[-122.3465,37.6977],zoom:9}}},computed:{computeOperations:function(){return M.getters.getOperations},computePositions:function(){return M.getters.getPositions},computePositionLayerColor:function(){return M.getters.getPositionLayerColorMap},computePoints:function(){return M.getters.getPoints},computeGridDraw:function(){return M.getters.getGridDraw}},watch:{computeOperations:function(){console.log("Watched change in Store Operations.");var t=M.getters.getOperations;for(var e in t)this.createOperationLayer(t[e])},computePositions:function(t,e){console.log("Watched change in Store Positions.");var o=Object.keys(t),a="yellow";for(var i in o){var r=o[i];e[r]?e[r].length!=t[r]&&this.createPositionLayer(t[r],a):this.createPositionLayer(t[r],a)}},computePositionLayerColor:function(t){for(var e in console.log("Watched change in Store PositionLayerColors."),t){var o=M.getters.getPositionsForOperation(t[e].gufi);this.clearPositionsLayer(t[e].gufi),this.createPositionLayer(o,t[e].color)}},computePoints:function(t){console.log("Watched change in Store Points."),this.addToPointLayer(t)},computeGridDraw:function(t){console.log("Watched change in GridDraw - "+t),t?this.createGridLayer():this.removeGridLayer()}}}),Te=Le,Me=(o("05d3"),Object(u["a"])(Te,Oe,we,!1,null,"02a6307c",null)),De=Me.exports,Ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-xs-center"},[o("v-dialog",{attrs:{scrollable:"",width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({staticClass:"text-none app-title",attrs:{text:""}},a),[t._v("~/Exige by ArKits")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-title",{staticClass:"blue"},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline mb-1"},[t._v("About Exige")])],1)],1)],1),o("v-card-text",{staticClass:"white--text"},[o("br"),o("div",[o("p",[t._v("Exige is a proof-of-concept traffic visualizer for UAM / UTM data.")]),o("p",[t._v("Exige is a Vue.js 2.0 based front-end web-app which connects to a UTM Service Suplier and display relevant data.")])]),o("v-divider"),o("br"),o("center",[o("v-btn",{staticClass:"text-none",attrs:{color:"primary",href:"https://github.com/arkits/exige"}},[t._v("Exige on GitHub")]),o("br"),o("br"),o("v-btn",{staticClass:"text-none",attrs:{color:"primary",href:"https://github.com/arkits/"}},[t._v("ArKits on GitHub")])],1)],1)],1)],1)],1)},Ie=[],Fe={name:"AboutPopup",data:function(){return{dialog:!1}}},$e=Fe,je=(o("3f9d"),Object(u["a"])($e,Ae,Ie,!1,null,null,null)),Re=je.exports;d()(je,{VBtn:q["a"],VCard:St["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VDialog:Pt["a"],VDivider:Q["a"],VListItem:Et["a"],VListItemContent:Vt["a"],VListItemTitle:Vt["c"]});var Ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"options-list"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",[o("ExigeOptions",{on:{"exige-clearStore":function(e){return t.$emit("exige-clearStore")},"exige-viewOperationOnMap":function(e){return t.$emit("exige-viewOperationOnMap",e)}}})],1),o("v-flex",[o("DataAdder")],1)],1)],1)},We=[],Ne=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-xs-center"},[o("v-dialog",{attrs:{scrollable:"",width:"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({attrs:{color:"orange",text:""}},a),[t._v("\n                Options\n                "),o("v-icon",{attrs:{right:"",dark:""}},[t._v("settings")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-title",{staticClass:"headline orange darken-2",attrs:{"primary-title":""}},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline mb-1"},[t._v("Exige Options")])],1)],1)],1),o("v-tabs",{attrs:{centered:"",color:"white","background-color":"orange darken-2",dark:"","slider-color":"white"}},[o("v-tab",{key:"1",attrs:{ripple:""}},[t._v("Exige Options")]),o("v-tab-item",{key:"1"},[o("v-card-text",[o("v-container",{staticClass:"white--text"},[o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Lifecycle Demo")]),o("p",[t._v("Loads a sample Operation and Positions.")])]),o("v-flex",{attrs:{xs3:""}},[o("LifecycleSample",{on:{"exige-viewOperationOnMap":function(e){return t.$emit("exige-viewOperationOnMap",e)}}})],1)],1),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Render in 3D")]),o("p",[t._v("\n                                        Toggles between rendering 3D or 2D.\n                                        "),o("br"),t._v("Turning off may help improve performance.\n                                    ")])]),o("v-flex",{attrs:{xs3:""}},[o("DSwitch")],1)],1),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Display Grid")]),o("p",[t._v("\n                                        Displays borders of Slippy tiles at zoom level 10.\n                                        "),o("br"),t._v("Turning off may help improve performance.\n                                    ")])]),o("v-flex",{attrs:{xs3:""}},[o("GridDraw")],1)],1),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("WebSocket Connect")]),o("p",[t._v("Status: "+t._s(t.getSocketState))])]),o("v-flex",{attrs:{xs3:""}},[o("v-btn",{attrs:{color:"green darken-2",block:""},on:{click:t.websocketButton}},[t._v(t._s(t.websocketToggleButton))])],1)],1),o("v-divider"),o("br"),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Export Data")]),o("p",[t._v("Export current data as JSON.")])]),o("v-flex",{attrs:{xs3:""}},[o("ExportData")],1)],1),o("v-layout",{attrs:{"pt-1":""}},[o("v-flex",{attrs:{xs8:""}},[o("h3",[t._v("Clear Data")]),o("p",[t._v("Clear all Exige data - Operations and Positions.")])]),o("v-flex",{attrs:{xs3:""}},[o("v-btn",{attrs:{block:""},on:{click:t.clearStore}},[t._v("Clear Data")])],1)],1)],1)],1)],1)],1),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"orange darken-2"},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},Be=[],Ue=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text-xs-center"},[o("v-dialog",{attrs:{scrollable:"",width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[o("v-btn",t._g({attrs:{color:"blue darken-2",block:""},on:{click:t.startLifecycleDemo}},a),[t._v("Start Demo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-title",{staticClass:"teal"},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline"},[t._v("Lifecycle Demo")])],1)],1)],1),o("v-card-text",[o("br"),o("h3",{staticClass:"font-weight-regular"},[t._v(t._s(t.lifecyleMessage))]),o("br"),o("center",[o("v-btn",{attrs:{color:"teal",large:"",block:""},on:{click:function(e){t.dialog=!1}}},[t._v("Okay")])],1)],1)],1)],1)],1)},He=[],ze={name:"LifecycleSample",data:function(){return{sampleOperations:[{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",flight_number:"EXIGE123",uss_name:"sample.exige.xyz",state:"ACTIVE",operation_volumes:[{ordinal:1,min_altitude:{altitude_value:0,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.43704795837402,37.79811961477822],[-122.43464469909667,37.79811961477822],[-122.43464469909667,37.800188134708165],[-122.43704795837402,37.800188134708165],[-122.43704795837402,37.79811961477822]]]}},{ordinal:2,min_altitude:{altitude_value:700,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.43683338165283,37.798458720375685],[-122.4093246459961,37.798458720375685],[-122.4093246459961,37.79998467630002],[-122.43683338165283,37.79998467630002],[-122.43683338165283,37.798458720375685]]]}},{ordinal:3,min_altitude:{altitude_value:700,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.41177082061768,37.78452019757326],[-122.40936756134033,37.78452019757326],[-122.40936756134033,37.799916856706105],[-122.41177082061768,37.799916856706105],[-122.41177082061768,37.78452019757326]]]}},{ordinal:4,min_altitude:{altitude_value:700,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.43378639221191,37.78465586496683],[-122.40958213806151,37.78465586496683],[-122.40958213806151,37.78618210598413],[-122.43378639221191,37.78618210598413],[-122.43378639221191,37.78465586496683]]]}},{ordinal:5,min_altitude:{altitude_value:700,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.43352890014648,37.78499503236122],[-122.43134021759032,37.78499503236122],[-122.43134021759032,37.79598321371842],[-122.43352890014648,37.79598321371842],[-122.43352890014648,37.78499503236122]]]}},{ordinal:6,min_altitude:{altitude_value:700,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.43348598480225,37.79401631367505],[-122.4125862121582,37.79401631367505],[-122.4125862121582,37.79571192027404],[-122.43348598480225,37.79571192027404],[-122.43348598480225,37.79401631367505]]]}},{ordinal:7,min_altitude:{altitude_value:0,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},max_altitude:{altitude_value:1e3,vertical_reference:"W84",units_of_measure:"FT",source:"OTHER"},operation_geography:{type:"Polygon",coordinates:[[[-122.4146032333374,37.79415196363509],[-122.41271495819092,37.79415196363509],[-122.41271495819092,37.79561018497552],[-122.4146032333374,37.79561018497552],[-122.4146032333374,37.79415196363509]]]}}]}],samplePositions:[{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:100,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.43588924407958,37.79917083706328]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:700,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.43515968322752,37.79927256745822]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.43382930755614,37.79927256745822]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.43095397949219,37.79934038764369]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.42717742919922,37.79934038764369]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.42421627044679,37.79927256745822]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.41932392120361,37.79927256745822]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.41421699523924,37.79927256745822]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.41052627563477,37.79917083706328]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.41065502166748,37.79564409675727]}},{gufi:"21f12af5-bfef-426a-8ab7-f1241a6ce714",altitude_gps_wgs84_ft:750,uss_name:"exige.archit.xyz",location:{type:"Point",coordinates:[-122.41065502166748,37.792490234462946]}}],dialog:!1,lifecycleStarted:!1,lifecyleMessage:null}},methods:{startLifecycleDemo:function(){this.$data.lifecycleStarted?this.$data.lifecyleMessage="Lifecycle demo has already been done. Refresh Exige to watch the demo again.":(this.addOperationToStore(),this.addPositionToStore(),this.$data.lifecycleStarted=!0,this.$data.lifecyleMessage="Lifecycle demo will start in a sec...")},addOperationToStore:function(){var t=this.$data.sampleOperations;try{for(var e in t)this.$store.commit("addOperation",t[e]),this.$emit("exige-viewOperationOnMap",t[e])}catch(o){console.log("Error occured when adding Operation to Store!"),console.error(o)}},addPositionToStore:function(){var t=this.$data.samplePositions;try{var e=0,o=function(){e<t.length?(this.$store.commit("addPosition",t[e]),e++):window.clearInterval(a)},a=window.setInterval(o.bind(this),1e3)}catch(i){this.inputError="Error occured when adding Position to Store... "+i,console.log("Error occured when adding Position to Store!"),console.error(i)}}}},Je=ze,Ke=Object(u["a"])(Je,Ue,He,!1,null,null,null),Xe=Ke.exports;d()(Ke,{VBtn:q["a"],VCard:St["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VDialog:Pt["a"],VListItem:Et["a"],VListItemContent:Vt["a"],VListItemTitle:Vt["c"]});var Ye=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-switch",{attrs:{inset:""},model:{value:t.dswitch,callback:function(e){t.dswitch=e},expression:"dswitch"}})],1)},qe=[],Qe={name:"DSwitch",components:{},data:function(){return{dswitch:!0}},watch:{dswitch:function(t){console.log("3D Render = "+t),M.state.dswitch=t}},computed:{computeDSwitch:function(){return this.dswitch=M.getters.dswitch,M.getters.dswitch}}},Ze=Qe,to=o("b73d"),eo=Object(u["a"])(Ze,Ye,qe,!1,null,null,null),oo=eo.exports;d()(eo,{VSwitch:to["a"]});var ao=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-btn",{attrs:{block:"",color:"orange darken-2"},on:{click:t.exportData}},[t._v("Export Data")])],1)},io=[],ro={name:"ExportData",components:{},data:function(){return{}},methods:{exportData:function(){console.log("Exporting Data!");var t={exige_operations:M.state.operations,exige_positions:M.state.positions,exige_positionsLayerColorMap:M.state.positionsLayerColorMap,exige_points:M.state.points,exige_dswitch:M.state.dswitch};t=JSON.stringify(t),this.createDownload(t)},createDownload:function(t){var e=new Blob([t],{type:"text/plain"}),o=document.createEvent("MouseEvents"),a=document.createElement("a");a.download="exige_export.json",a.href=window.URL.createObjectURL(e),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),o.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(o)}}},no=ro,so=Object(u["a"])(no,ao,io,!1,null,null,null),lo=so.exports;d()(so,{VBtn:q["a"]});var co=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-switch",{attrs:{inset:""},model:{value:t.gridDraw,callback:function(e){t.gridDraw=e},expression:"gridDraw"}})],1)},uo=[],po={name:"GridDraw",components:{},data:function(){return{gridDraw:!1}},watch:{gridDraw:function(t){this.$store.commit("setGridDraw",t)}},computed:{computeGridDraw:function(){return this.gridDraw=M.getters.getGridDraw,M.getters.getGridDraw}}},go=po,vo=Object(u["a"])(go,co,uo,!1,null,null,null),fo=vo.exports;d()(vo,{VSwitch:to["a"]});var mo={name:"ExigeOptions",components:{LifecycleSample:Xe,DSwitch:oo,ExportData:lo,GridDraw:fo},data:function(){return{dialog:!1,websocketToggleButton:"Connect WebSocket"}},methods:{websocketButton:function(){console.log("Toggling WebSocket..."),M.state.socket.isConnected?(a["a"].prototype.$disconnect(),this.$data.websocketToggleButton="Connect WebSocket"):(a["a"].prototype.$connect("ws://localhost:1234/testbed/sndem/uamposition"),a["a"].prototype.$connect("ws://localhost:1234/testbed/sndem/uamoperation"),this.$data.websocketToggleButton="Disconnect WebSocket")},clearStore:function(){console.log("Clearing Store..."),this.$emit("exige-clearStore")}},computed:{getSocketState:function(t){return M.state.socket.isConnected?"Connected":"Not Connected"}}},ho=mo,_o=Object(u["a"])(ho,Ne,Be,!1,null,null,null),xo=_o.exports;d()(_o,{VBtn:q["a"],VCard:St["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VContainer:_t["a"],VDialog:Pt["a"],VDivider:Q["a"],VFlex:Z["a"],VIcon:ct["a"],VLayout:tt["a"],VListItem:Et["a"],VListItemContent:Vt["a"],VListItemTitle:Vt["c"],VSpacer:kt["a"],VTab:Lt["a"],VTabItem:Tt["a"],VTabs:Mt["a"]});var yo={name:"OptionsList",components:{ExigeOptions:xo,DataAdder:he},data:function(){return{}}},bo=yo,Oo=Object(u["a"])(bo,Ge,We,!1,null,null,null),wo=Oo.exports;d()(Oo,{VFlex:Z["a"],VLayout:tt["a"]});var So={name:"Dashboard",components:{Operations:be,Map:De,OptionsList:wo,AboutPopup:Re},data:function(){return{org_title:"~/"}},computed:{},methods:{viewOperationOnMap:function(t){var e=t;this.$refs.Map.viewOperationOnMap(e)},hideOperationOnMap:function(t){var e=t;this.$refs.Map.toggleOperationOnMap(e)},hidePositionsOnMap:function(t){var e=t;this.$refs.Map.togglePositionsOnMap(e)},clearStore:function(){this.$refs.Map.clearMapAndStore()}}},Co=So,Po=o("553a"),Eo=Object(u["a"])(Co,R,G,!1,null,null,null),Vo=Eo.exports;d()(Eo,{VFlex:Z["a"],VFooter:Po["a"],VLayout:tt["a"]});var ko=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-layout",{attrs:{wrap:""}},[o("v-flex",[o("OperationsGrid")],1)],1),o("v-footer",{attrs:{fixed:"",height:"auto"}},[o("v-layout",[o("v-flex",{attrs:{row:""}},[o("v-layout",[o("OptionsList",{on:{"exige-clearStore":function(e){return t.clearStore()},"exige-viewOperationOnMap":function(e){return t.viewOperationOnMap(e)}}})],1),o("v-layout",{attrs:{"justify-end":""}},[o("AboutPopup")],1)],1)],1)],1)],1)},Lo=[],To=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{id:"operations-grid"}},[t._l(t.createOperationTreeList,function(e,a){return o("div",{key:a.id,attrs:{if:"Object.keys(createOperationTreeList).length > 0"}},[o("v-layout",[o("v-flex",[o("br"),o("v-row",{attrs:{"no-gutters":""}},[o("v-col",[o("h3",{staticClass:"text-uppercase"},[t._v(t._s(a))]),o("span",{staticClass:"white--text"},[t._v("TOTAL:"+t._s(e.length))])]),o("v-col",{staticClass:"text-right"},[o("span",{staticClass:"green--text"},[t._v("ACTIVE:"+t._s(t.countState(e,"ACTIVATED")))]),t._v(" |\n                         "),o("span",{staticClass:"red--text"},[t._v("ROGUE:"+t._s(t.countState(e,"ROGUE")))]),t._v(" |\n                        "),o("span",{staticClass:"text-right"},[t._v("CLOSED:"+t._s(t.countState(e,"CLOSED")))])])],1),o("hr"),o("br"),o("v-container",{staticClass:"dark-grey"},[o("v-simple-table",[o("thead",[o("tr",[o("th",{staticClass:"text-left"},[t._v("GUFI")]),o("th",{staticClass:"text-left"},[t._v("Flight Number")]),o("th",{staticClass:"text-left"},[t._v("State")])])]),o("tbody",t._l(e,function(e){return o("tr",{key:e.gufi,class:t.generateCardBg(e.state)},[o("td",[t._v(t._s(e.gufi))]),o("td",[t._v(t._s(e.flight_number))]),o("td",[t._v(t._s(e.state))])])}),0)])],1)],1)],1)],1)}),0===Object.keys(t.createOperationTreeList).length?o("div",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("center",[o("br"),o("br"),o("br"),o("h4",{staticClass:"grey--text"},[t._v("waiting for the storm...")])])],1)],1)],1):t._e(),o("br"),o("br"),o("br"),o("br"),o("br"),o("br"),o("br"),o("br")],2)},Mo=[],Do={name:"OperationsGrid",props:["operations"],components:{OperationCard:jt},computed:{createOperationTreeList:function(){var t=M.getters.getOperations,e=new Object,o=!0,a=!1,i=void 0;try{for(var r,n=t[Symbol.iterator]();!(o=(r=n.next()).done);o=!0){var s=r.value,l=s["uss_name"];if(e.hasOwnProperty(l))var c=e[l];else c=[];c.push(s),e[l]=c}}catch(u){a=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return e}},methods:{countState:function(t,e){var o=0,a=!0,i=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(a=(n=s.next()).done);a=!0){var l=n.value;l.state==e&&o++}}catch(c){i=!0,r=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw r}}return o},generateCardBg:function(t){return"ROGUE"==t||"U"==t?"red":"ACTIVE"==t||"ACTIVATED"==t||"V"==t?"green darken-1":"ACCEPTED"==t||"A"==t?"teal":"NONCONFORMING"==t||"NON-CONFORMING"==t||"F"==t?"purple darken-1":"REJECTED"==t||"R"==t?"yellow darken-3":"grey darken-4"}}},Ao=Do,Io=(o("080d"),o("62ad")),Fo=o("0fd9"),$o=Object(u["a"])(Ao,To,Mo,!1,null,null,null),jo=$o.exports;d()($o,{VCol:Io["a"],VContainer:_t["a"],VFlex:Z["a"],VLayout:tt["a"],VRow:Fo["a"],VSimpleTable:et["a"]});var Ro={name:"Timeline",components:{OperationsGrid:jo,OptionsList:wo,AboutPopup:Re},data:function(){return{org_title:"~/"}},computed:{},methods:{}},Go=Ro,Wo=Object(u["a"])(Go,ko,Lo,!1,null,null,null),No=Wo.exports;d()(Wo,{VFlex:Z["a"],VFooter:Po["a"],VLayout:tt["a"]}),a["a"].use(j["a"]);var Bo=new j["a"]({mode:"history",routes:[{path:"/exige",name:"dashboard",component:Vo},{path:"/exige/timeline",name:"timeline",component:No}]}),Uo=o("f309");a["a"].use(Uo["a"]);var Ho=new Uo["a"]({icons:{iconfont:"mdiSvg"},theme:{dark:!0}}),zo={SOCKET_ONOPEN:C,SOCKET_ONCLOSE:P,SOCKET_ONERROR:E,SOCKET_ONMESSAGE:V,SOCKET_RECONNECT:k,SOCKET_RECONNECT_ERROR:L};a["a"].use(r.a,"ws://localhost:1234/testbed/sndem/uamposition",{store:M,mutations:zo,connectManually:!0}),M.$socket=a["a"].prototype.$socket,a["a"].config.productionTip=!1,new a["a"]({store:M,router:Bo,vuetify:Ho,render:function(t){return t(_)}}).$mount("#app")},"9e24":function(t,e,o){},eacd:function(t,e,o){},ebeb:function(t,e,o){}});
//# sourceMappingURL=app.b273baa7.js.map